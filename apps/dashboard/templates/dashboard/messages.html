{% if opinions %}
  <ul class="opinions">
  {% for opinion in opinions %}
    {# search results wrap models inside a result object (fail): #}
    {% if opinion.object %}{% set opinion = opinion.object %}{% endif %}

    <li class="{{ opinion.positive and 'happy' or 'sad' }} clearfix">
      {{ smiley(opinion.positive and "happy" or "sad") }}
      <div class="msg">{{ opinion.description }}</div>
        <a class="ua" href="#" title="{{ opinion.user_agent }}">(UA)</a>
      {% if opinion.url %}
        <a class="url" href="{{ opinion.url }}" rel="nofollow">(URL)</a>
        <div class="urlpreview">
          <a href="{{ opinion.url }}" rel="nofollow">visit &rarr;</a>
          <input type="text" readonly value="{{ opinion.url }}"/>
        </div>
      {% endif %}
        <div class="uapreview clearfix">
          <span class="os">{{ _('OS: {os_name}')|f(os_name=os_name(opinion.os)) }}</span>
          <span class="locale" title="{{ locale_name(opinion.locale,
            native=True, default='') }}">{{ _('Locale: {locale}')|f(
            locale=locale_name(opinion.locale)) }}</span>
        </div>
    </li>
  {% endfor %}
  </ul>
{% endif %}
