<div id="when" class="choice">
  <h3>{# L10n: Title for a time-based search filter #}{{ _('When') }}</h3>
  <div>
    <ul>
      <li><a class="{{ 'selected' if selected == '1d' else ''}}"
             href="{{ search_url(date_start=date_ago(days=1), defaults=defaults) }}"
             title="{{ _('Last day') }}">{# L10n: short for 1 day #}{{ _('1d') }}</a></li>
      <li><a class="{{ 'selected' if selected  == '7d' else ''}}"
              href="{{ search_url(date_start=date_ago(days=7), defaults=defaults) }}"
              title="{{ _('Last 7 days') }}">{# L10n: short for 7 days #}{{ _('7d') }}</a></li>
      <li><a class="{{ 'selected' if selected == '30d' else ''}}"
             href="{{ search_url(date_start=date_ago(days=30), defaults=defaults) }}"
             title="{{ _('Last 30 days') }}">{# L10n: short for 30 days #}{{ _('30d') }}</a></li>
      <li><a id="show-custom-date"
             class="etc {{ 'selected' if selected == 'custom' else ''}}"
             href="#"
             title="{# L10n: Tooltip for custom date range button #}{{ _('Custom') }}"><span>&raquo;</span></a></li>
    </ul>

    <div id="custom-date" class="{{ 'hidden' if selected != 'custom' else ''}}">
      {{ form.date_start|safe }}
      &ndash;
      {{ form.date_end|safe }}
      {# L10n: Button text for setting a custom date range. #}
      <button>{{ _('Set', 'date_range_set') }}</button>

      {{ form.date_start.errors|safe }}
      {{ form.date_end.errors|safe }}
    </div>
  </div>
</div>
