{% macro fieldbox(name): %}
  {% with field = search_form[name] %}
    <div class="fieldWrapper wrap_{{ field.name }}">
      {{ field.errors|safe }}
      {{ field.label_tag()|safe }} {{ field|safe }}
    </div>
  {% endwith %}
{% endmacro %}

<div id="search_form">
  <form method="get" action="{{ url('search') }}">
    <div id="search_basic" class="clearfix">
      {{ fieldbox('q') }}

      {{ fieldbox('product') }}
      {{ fieldbox('version') }}
    </div>

    <div id="show_search_adv" class="active">
      <a href="#">Advanced</a>
    </div>

    <div id="search_adv" class="clearfix">
      {{ fieldbox('sentiment') }}
      {{ fieldbox('os') }}
      {{ fieldbox('locale') }}
      {{ fieldbox('date_start') }}
      {{ fieldbox('date_end') }}
    </div>
    <button type="submit">Search</button>
  </form>
</div>
